{"version":3,"sources":["webpack:///webpack/bootstrap ca24672c9dc4c2f675a1","webpack:///./scripts/script.js"],"names":["totalRows","totalCols","genDelay","generationInProgress","evolveButtons","document","querySelectorAll","i","length","addEventListener","generatePattern","$","animate","window","innerHeight","initiateGeneration","container","getElementById","innerHTML","generations","parseInt","value","generateFirstRow","startEvolutionDelay","setTimeout","generateNewRow","row","createElement","className","id","colourType","middleCell","Math","ceil","oddCols","cell","style","backgroundColor","randomColour","animateFirstRow","appendChild","colNum","evenOffset","type","state","randNumber","max","floor","random","rowNum","fragment","createDocumentFragment","parent1col","parent2col","parent3col","childRGB","map","column","getRGB","parent","reduce","accumulator","parentRGB","R","G","B","cloneNode","cssRgb","substring","indexOf","split","x","event","scrollY","transform"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ca24672c9dc4c2f675a1","'use strict';\n\nlet totalRows = 60;\t\t// integer\nlet totalCols = 100;\t// integer\nlet genDelay = 50;\t\t// ms\nlet generationInProgress = false;\n\nlet evolveButtons = document.querySelectorAll('.btn-evolve');\nfor (let i=0; i<evolveButtons.length; i++) evolveButtons[i].addEventListener('click', generatePattern, false);\n\n// Click handler for Evolve button\nfunction generatePattern() {\n\t$('html, body').animate({ 'scrollTop': window.innerHeight }, 600);\n\t\n\tif (!generationInProgress) {\n\t\tgenerationInProgress = true;\n\t\tinitiateGeneration();\t\n\t}\n}\n\n// Initiates the pattern generation\nfunction initiateGeneration() {\n\tlet container = document.getElementById('pattern-container');\n\tcontainer.innerHTML = '';\n\t\t\n\t// Set number of generations\n\tlet generations = parseInt(document.getElementById('sel-numGenerations').value);\n\tif (generations >= 1 && generations <= 1000) totalRows = generations;\n\t\t\n\t// Generate first row\n\tgenerateFirstRow(container);\n\n\t// Generate the children\n\tvar startEvolutionDelay = (genDelay/2)*(totalCols/2) + genDelay*10;\n\tsetTimeout(() => generateNewRow(2, container), startEvolutionDelay);\n}\n\n// Generate the first row of cells\nfunction generateFirstRow(container) {\n\tlet row = document.createElement('div');\n\trow.className = 'cell-row';\n\trow.id = 'row1';\n\t\n\tlet colourType = document.getElementById('sel-colourPalette').value;\n\t\n\t// variables to calculate animation properties\n\tlet middleCell = Math.ceil(totalCols/2);\n\tlet oddCols = (totalCols % 2) !== 0;\n\n\tfor (let i=1; i<=totalCols; i++) {\n\t\tlet cell = document.createElement('div');\n\t\tcell.className = 'cell firstRow-cell';\n\t\tcell.id = 'row1-col' + i;\n\t\t\n\t\tcell.style.backgroundColor = randomColour(colourType); // Assign cell colour\n\t\tcell.style['animation-delay'] = animateFirstRow(i-1, middleCell, oddCols); // Assign cell animation-delay\n\t\t\n\t\trow.appendChild(cell);\n\t}\t\n\tcontainer.appendChild(row);\n}\n\n// Assigns the cell an appropriate animation-delay value to display as a 'middle out' animation\nfunction animateFirstRow(colNum, middleCell, oddCols) {\n\tlet evenOffset = oddCols ? 0 : -1;\t// even cols in total means an extra middle cell, so requires extra increment\n\t\n\tif (colNum < middleCell) return ((totalCols - middleCell+evenOffset) - colNum)*genDelay/2 + 'ms';\n\telse return (middleCell - (totalCols - colNum))*genDelay/2 + 'ms';\n}\n\n// Return a random RGB colour\nfunction randomColour(type) {\n\t// Type: mono (for black and white)\n\tif (type === 'mono') {\n\t\tlet state = randNumber(1);\n\t\tif (state === 0) return 'rgb(255,255,255)';\n\t\telse return 'rgb(0,0,0)';\n\t}\n\t// Type: primary (for either R, G, B primary colours)\n\telse if (type === 'primary') {\n\t\tlet state = randNumber(2);\n\t\tif (state === 0) return 'rgb(255,0,0)';\n\t\telse if (state === 1) return 'rgb(0,255,0)';\n\t\telse return 'rgb(0,0,255)';\n\t}\n\t// Type: all (completely random colour)\n\telse if (type === 'all') {\n\t\treturn `rgb( ${randNumber(255)}, ${randNumber(255)}, ${randNumber(255)} )`;\n\t}\n}\n\n// Returns random number 0 <= x <= max\nfunction randNumber(max) {\n\treturn Math.floor(Math.random() * (max+1));\n}\n\n// Generate a new child row\nfunction generateNewRow(rowNum, container) {\n\tlet fragment = document.createDocumentFragment();\n\t\n\tlet row = document.createElement('div');\n\trow.className = 'cell-row';\n\trow.id = 'row'+rowNum;\n\t\n\t// Create Row\n\tfor (let i=1; i<=totalCols; i++) {\n\t\tlet cell = document.createElement('div');\n\t\tcell.className = 'cell';\n\t\t\n\t\t// Get parent columns (with wrap)\n\t\tlet parent1col = (i == 1) ? totalCols : i-1;\n\t\tlet parent2col = i;\n\t\tlet parent3col = (i == totalCols) ? 1 : i+1;\n\t\n\t\tlet childRGB = [parent1col, parent2col, parent3col]\n\t\t\t.map(column => document.getElementById('row'+(rowNum-1)+'-col'+column))\t// get parent elements\n\t\t\t.map(parent => getRGB(parent.style.backgroundColor))\t\t\t\t\t\t\t\t\t\t// get parent background colours\n\t\t\t.reduce((accumulator, parentRGB) => {\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// reduce to average RGB of all parents\n\t\t\t\t\treturn {\n\t\t\t\t\t\tR: accumulator.R + (parentRGB.R/3),\n\t\t\t\t\t\tG: accumulator.G + (parentRGB.G/3),\n\t\t\t\t\t\tB: accumulator.B + (parentRGB.B/3)\n\t\t\t\t\t}\n\t\t\t\t}, {R:0, G:0, B:0});\n\t\t\n\t\t// set child cell properties\n\t\tcell.style.backgroundColor = `rgb( ${Math.floor(childRGB.R)}, ${Math.floor(childRGB.G)}, ${Math.floor(childRGB.B)} )`;\t\n\t\tcell.id = 'row' + rowNum + '-col' + i;\n\t\t\n\t\tfragment.appendChild(cell);\n\t}\n\t\n\trow.appendChild(fragment.cloneNode(true));\n\tcontainer.appendChild(row);\n\t\n\t// Generate the next row after a delay\n\tif (rowNum < totalRows) setTimeout(() => generateNewRow(rowNum+1, container), genDelay);\n\telse generationInProgress = false;\n}\n\n// Get the RGB values of a cell\nfunction getRGB(cssRgb) {\n\t// Get in form { R, G, B }\n\tcssRgb = cssRgb\n\t\t.substring(cssRgb.indexOf('(')+1, cssRgb.indexOf(')'))\n\t\t.split(', ')\n\t\t.map(x => parseInt(x));\n\t\n\treturn { R : cssRgb[0], G : cssRgb[1], B : cssRgb[2] }\n}\n\n// Show/hide header after scrolling\nwindow.addEventListener('scroll', (event) => {\n\tif (window.scrollY > (window.innerHeight*0.6)) document.getElementById('control-panel').style.transform = 'translateY(0)';\n\telse document.getElementById('control-panel').style.transform = 'translateY(-100%)';    \n}, false);\n\n\n// WEBPACK FOOTER //\n// ./scripts/script.js"],"sourceRoot":""}